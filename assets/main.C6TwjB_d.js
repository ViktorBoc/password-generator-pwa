(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const c={lowercase:"abcdefghijklmnopqrstuvwxyz",uppercase:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",numbers:"0123456789",special:"!@#$%^&*()-_=+[]{};:,.?/"},u=document.getElementById("lengthSlider"),g=document.getElementById("lengthNumber"),m=document.getElementById("lengthValue"),v=document.getElementById("lowercaseCheck"),w=document.getElementById("uppercaseCheck"),b=document.getElementById("numbersCheck"),E=document.getElementById("specialCheck"),C=document.getElementById("generateBtn"),h=document.getElementById("copyBtn"),f=document.getElementById("passwordOutput"),p=document.getElementById("errorMessage"),d=document.getElementById("strengthMeter");let i="";function k(){u.addEventListener("input",r=>{const t=r.target.value;g.value=t,m.textContent=t}),g.addEventListener("input",r=>{let t=parseInt(r.target.value);isNaN(t)&&(t=16),t<8&&(t=8),t>30&&(t=30),r.target.value=t,u.value=t,m.textContent=t}),C.addEventListener("click",B),h.addEventListener("click",x),"serviceWorker"in navigator&&navigator.serviceWorker.register("/public/service-worker.js").then(()=>console.log("Service Worker registered")).catch(r=>console.error("Service Worker registration failed:",r))}function B(){P();const r=parseInt(u.value),t={lowercase:v.checked,uppercase:w.checked,numbers:b.checked,special:E.checked};if(!t.lowercase&&!t.uppercase&&!t.numbers&&!t.special){y("Vyber aspoň jednu sadu znakov!");return}let o="";const n=[];t.lowercase&&(o+=c.lowercase,n.push(l(c.lowercase))),t.uppercase&&(o+=c.uppercase,n.push(l(c.uppercase))),t.numbers&&(o+=c.numbers,n.push(l(c.numbers))),t.special&&(o+=c.special,n.push(l(c.special)));const e=I(o,r,n);i=e,f.textContent=e,f.classList.add("has-password"),h.disabled=!1,L(e,o.length)}function l(r){const t=Math.floor(256/r.length)*r.length;let o;do{const n=new Uint8Array(1);crypto.getRandomValues(n),o=n[0]}while(o>=t);return r[o%r.length]}function I(r,t,o){const n=[...o];for(let e=o.length;e<t;e++)n.push(l(r));for(let e=n.length-1;e>0;e--){const s=new Uint32Array(1);crypto.getRandomValues(s);const a=s[0]%(e+1);[n[e],n[a]]=[n[a],n[e]]}return n.join("")}function L(r,t){const o=r.length*Math.log2(t);let n,e;o<50?(n="#ef4444",e="33%"):o<75?(n="#f59e0b",e="66%"):(n="#10b981",e="100%"),d.style.setProperty("--strength-color",n),d.style.setProperty("--strength-width",e),d.classList.add("visible")}async function x(){if(i)try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(i);else{const r=document.createElement("textarea");r.value=i,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)}}catch(r){y("Nepodarilo sa skopírovať heslo"),console.error("Copy failed:",r)}}function y(r){p.textContent=r,p.classList.remove("d-none")}function P(){p.classList.add("d-none")}k();
